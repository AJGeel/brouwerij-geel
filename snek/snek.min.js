var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6-impl","es3");
var canvas=document.getElementById("game-area"),width,height,tileSize,scale,fps,ctx,angel,score,isPaused,step,gameOver=!1,lWidth,fontSize,fontFamily,gold,darkGold,lightGold,chomps_1,chomps_2,chomps_3,chomps_4,burp,boom,hiHat,snare,kick;
function init(){scale=2;tileSize=20*scale;fps=10;score=0;isPaused=!1;lWidth=1;step=0;fontSize=30*scale;fontFamily="Sen";gold="hsla(38 40% 60% / 1)";goldPartial="hsla(38 40% 60%";darkGold="#423724";lightGold="#ffeccc";chomps_1=new sound("s_chomps_1.mp3",1);chomps_2=new sound("s_chomps_2.mp3",1);chomps_3=new sound("s_chomps_3.mp3",1);chomps_4=new sound("s_chomps_4.mp3",1);burp=new sound("s_burp.mp3",.7);boom=new sound("s_boom.mp3",.7);var a=document.querySelectorAll(".angel-di-maria")[0];gameOver||
(console.log(gameOver),width=scale*tileSize*Math.floor((a.offsetWidth-128)/tileSize),height=scale*tileSize*Math.floor(a.offsetHeight/tileSize),canvas.width=width,canvas.height=height);ctx=canvas.getContext("2d");food=new Food(spawnLocation(),""+lightGold);snake=new Snake({x:tileSize*Math.floor(width/(2*tileSize)),y:tileSize*Math.floor(height/(2*tileSize))},""+gold);gameOver=!1}function game(){canvas.className="";init();update()}
function update(){if(!isPaused)if(gameOver)boom.play(),canvas.classList.add("rip"),ctx.textAlign="center",ctx.font=fontSize+"px "+fontFamily,ctx.fillStyle=""+darkGold,ctx.strokeStyle=""+gold,ctx.lineWidth=10,ctx.strokeText("GAME OVER",width/2,height/2),ctx.fillText("GAME OVER",width/2,height/2),ctx.font=.667*fontSize+"px "+fontFamily,ctx.fillText("Click anywhere on the canvas to try again...",width/2,height/2+fontSize);else{canvas.classList.contains("paused")&&canvas.classList.remove("paused");snake.die()&&
(gameOver=!0);snake.border();if(snake.eat()){canvas.classList.add("chomp");setTimeout(function(){canvas.classList.remove("chomp")},350);var a=Math.random();.25>=a?chomps_1.play():.5>=a?chomps_2.play():.75>=a?chomps_3.play():chomps_4.play();.25>=Math.random()&&(setTimeout(function(){canvas.classList.add("burp");burp.play()},400),setTimeout(function(){canvas.classList.remove("burp")},800));food=new Food(spawnLocation(),""+lightGold);score+=10;0==score%20&&fps++}ctx.clearRect(0,0,width,height);food.draw();
try{yeet.draw()}catch(b){}snake.draw();snake.move();step++;showScore();setTimeout(update,1E3/fps)}}function showScore(){ctx.textAlign="center";ctx.font=fontSize+"px "+fontFamily;ctx.fillStyle=""+darkGold;ctx.fillText("Score: "+score,width/2,2*fontSize)}function drumAndBass(){0===step%2&&hiHat.play();0!==step%16&&10!==step%16||kick.play();4===step%8&&snare.play()}
function showPaused(){ctx.textAlign="center";ctx.font=.677*fontSize+"px "+fontFamily;ctx.fillStyle=""+darkGold;ctx.fillText("Paused \u2014\u00a0press 'spacebar' to continue.",width/2,height/2);canvas.classList.add("paused")}function spawnLocation(){return{x:Math.floor(width/tileSize*Math.random())*tileSize,y:Math.floor(height/tileSize*Math.random())*tileSize}}
function sound(a,b){this.sound=document.createElement("audio");this.sound.src=a;this.sound.setAttribute("preload","auto");this.sound.setAttribute("controls","none");this.sound.style.display="none";this.sound.volume=b;document.body.appendChild(this.sound);this.play=function(){this.reset();this.sound.play()};this.reset=function(){this.sound.pause();this.sound.currentTime=0}}var Food=function(a,b){this.x=a.x;this.y=a.y;this.color=b};
Food.prototype.draw=function(){ctx.beginPath();ctx.arc(this.x+tileSize/2,this.y+tileSize/2,tileSize/2,0,2*Math.PI);ctx.fillStyle=this.color;ctx.fill();ctx.strokeStyle=""+darkGold;ctx.lineWidth=lWidth;ctx.stroke();ctx.closePath()};var Snake=function(a,b){this.x=a.x;this.y=a.y;this.tail=[{x:a.x-tileSize,y:a.y},{x:a.x-2*tileSize,y:a.y}];this.velX=1;this.velY=0;this.color=b};
Snake.prototype.draw=function(){ctx.beginPath();ctx.arc(this.x+tileSize/2,this.y+tileSize/2,tileSize/2,0,2*Math.PI);ctx.fillStyle=this.color;ctx.fill();ctx.strokeStyle=""+darkGold;ctx.lineWidth=lWidth;ctx.stroke();ctx.closePath();ctx.beginPath();ctx.arc(this.x+tileSize/2,this.y+tileSize/2,tileSize/6,0,2*Math.PI);ctx.fillStyle=""+darkGold;ctx.fill();ctx.closePath();for(var a=0;a<this.tail.length;a++)ctx.beginPath(),ctx.arc(this.tail[a].x+tileSize/2,this.tail[a].y+tileSize/2,tileSize/2,0,2*Math.PI),
ctx.fillStyle="hsl(38 40% "+(60-2*a)+"%)",ctx.fill(),ctx.strokeStyle=""+darkGold,ctx.lineWidth=lWidth,ctx.stroke(),ctx.closePath()};Snake.prototype.move=function(){for(var a=this.tail.length-1;0<a;a--)this.tail[a]=this.tail[a-1];0!=this.tail.length&&(this.tail[0]={x:this.x,y:this.y});this.x+=this.velX*tileSize;this.y+=this.velY*tileSize};Snake.prototype.dir=function(a,b){this.velX=a;this.velY=b};
Snake.prototype.eat=function(){return Math.abs(this.x-food.x)<tileSize&&Math.abs(this.y-food.y)<tileSize?(this.tail.push({}),!0):!1};Snake.prototype.die=function(){for(var a=0;a<this.tail.length;a++)if(Math.abs(this.x-this.tail[a].x)<tileSize&&Math.abs(this.y-this.tail[a].y)<tileSize)return!0;return!1};
Snake.prototype.border=function(){if(this.x+tileSize>width&&-1!=this.velX||0>this.x&&1!=this.velX)this.x=width-this.x;else if(this.y+tileSize>height&&-1!=this.velY||1!=this.velY&&0>this.y)this.y=height-this.y};
window.addEventListener("keydown",function(a){" "===a.key?gameOver||(a.preventDefault(),isPaused=!isPaused,showPaused(),isPaused||update()):"ArrowUp"===a.key?(a.preventDefault(),1!=snake.velY&&0<=snake.x&&snake.x<=width&&0<=snake.y&&snake.y<=height&&snake.dir(0,-1)):"ArrowDown"===a.key?(a.preventDefault(),-1!=snake.velY&&0<=snake.x&&snake.x<=width&&0<=snake.y&&snake.y<=height&&snake.dir(0,1)):"ArrowLeft"===a.key?(a.preventDefault(),1!=snake.velX&&0<=snake.x&&snake.x<=width&&0<=snake.y&&snake.y<=height&&
snake.dir(-1,0)):"ArrowRight"===a.key&&(a.preventDefault(),-1!=snake.velX&&0<=snake.x&&snake.x<=width&&0<=snake.y&&snake.y<=height&&snake.dir(1,0))});window.addEventListener("load",function(){game()});canvas.addEventListener("click",function(){gameOver&&game()});
